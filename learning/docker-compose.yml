services:
  markcards:
    build: https://github.com/masolnada/markcards.git
    container_name: markcards
    restart: unless-stopped
    environment:
      - GITHUB_REPO=${MARKCARDS_GITHUB_REPO}
      - GITHUB_TOKEN=${MARKCARDS_GITHUB_TOKEN:-}
      - GITHUB_BRANCH=${MARKCARDS_GITHUB_BRANCH:-main}
      - GITHUB_PATH=${MARKCARDS_GITHUB_PATH:-}
      - SYNC_TTL_MS=${MARKCARDS_SYNC_TTL_MS:-60000}
      - SETTINGS_PATH=/config/settings.json
    volumes:
      - markcards_data:/data
      - ./settings.json:/config/settings.json:ro
    networks:
      - proxy_net

volumes:
  markcards_data:

networks:
  proxy_net:
    external: true
